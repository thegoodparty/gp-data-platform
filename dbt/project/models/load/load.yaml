version: 2

models:

  - name: load__l2_sftp_to_s3
    description: >
      This model loads data from the L2 SFTP server to S3.
    config:
      dbt_environment: "{{ env_var('DBT_ENVIRONMENT') }}"
      l2_sftp_host: "{{ env_var('DBT_L2_SFTP_HOST') }}"
      l2_sftp_port: "{{ env_var('DBT_L2_SFTP_PORT') }}"
      l2_sftp_user: "{{ env_var('DBT_L2_SFTP_USER') }}"
      l2_sftp_password: "{{ env_var('DBT_L2_SFTP_PW') }}"
      # s3_bucket: "{{ env_var('DBT_S3_BUCKET') }}"
      # s3_key: "{{ env_var('DBT_S3_KEY') }}"
    meta:
      owner: "Data Engineering Team"
      contains_pii: true
    columns:
      - name: id
        description: "Unique identifier for the candidacy in the CivicEngine database"
        tests:
          - not_null
          - unique
# TODO: add more tests that are relevant to the model
